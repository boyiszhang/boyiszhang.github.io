<!DOCTYPE html>
<html>

	<head>
	  <meta charset="utf-8">
	  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
	  <title>ArcGIS Developer Guide: Display a map (2D)</title>
	  <style>
		html,
		body,
		#viewDiv {
		  padding: 0;
		  margin: 0;
		  height: 100%;
		  width: 100%;
		}
	  </style>

	  <link rel="stylesheet" href="https://js.arcgis.com/4.18/esri/themes/light/main.css">
	  <script src="https://js.arcgis.com/4.18/"></script>

	  <script>
		require([
		 "esri/config",
		  "esri/Map",
		  "esri/views/MapView",
			"esri/widgets/Locate",
			"esri/widgets/Track",
			"esri/Graphic",
			"esri/layers/GraphicsLayer",
			"esri/geometry/Circle"
		], function (esriConfig,Map,MapView,Locate,Track,Graphic,GraphicsLayer,Circle) {

		  esriConfig.apiKey = "AAPKf1a1ba6840e94c59a8ad6869a5b2f3e3EoXk-AfWFv1Fq5GtGkVdguSoGnaTE8fxDoq8H5yXmPE6FudesI3EbDtZNbJifPDd";
		  
			const map = new Map({
				basemap: "arcgis-navigation" // Basemap layer
			});

// 			let cirSymbol = {
// 				type: "simple-fill",
// 				color: [51,51,204,0.9]
// 			}
// 			
// 			const graphicsLayer = new GraphicsLayer();
// 			map.add(graphicsLayer);
// 
// 			const cir = new Circle ({
// 				center: [-118.805, 34.027],
// 				radius: 1000,
// 				radiusUnit: "kilometers"
// 			});
// 			
// 			const pointGraphic = new Graphic({
// 					geometry: cir,
// 					symbol: cirSymbol
// 			});
// 			graphicsLayer.add(pointGraphic);

			const view = new MapView({
				map: map,
				center: [-40, 28],
				zoom: 2, 
				container: "viewDiv"
			});
			
			const locate = new Locate({
					view: view,
					useHeadingEnabled: false,
					goToOverride: function(view, options) {
						options.target.scale = 1500;
						return view.goTo(options.target);
					}
				});
			view.ui.add(locate, "top-left");

			const track = new Track({
					view: view,
					graphic: new Graphic({
						symbol: {
							type: "simple-marker",
							size: "12px",
							color: "green",
							outline: {
								color: "#efefef",
								width: "1.5px"
							}
						}
					}),
					useHeadingEnabled: false
				});
			view.ui.add(track, "top-left");

// 			let cirGraphic = new Graphic({
// 				geometry: cir,
// 				symbol: cirSymbol
// 			});
// 
// 			view.graphics.add(cirGraphic);
		});
		
	  </script>
	</head>

	<body>
	  <div id="viewDiv"></div>
	</body>

</html>
